{"version":3,"file":"Toast.min.js","sources":["../src/Toast.js"],"sourcesContent":["/**\n * A utility for mananging toast like UI messages.\n */\nexport const Toast = (function (options = {}) {\n  const settings = {\n    selector: 'body',\n    className: 'toast',\n    prepend: false\n  }\n\n  const Constructor = function (options) {\n    let ID = 0\n    const publicAPIs = {}\n    publicAPIs.settings = { ...options, ...settings }\n    publicAPIs.target = document.querySelector(publicAPIs.settings.selector)\n    publicAPIs.className = publicAPIs.settings.className\n\n    // Private Methods\n    /**\n     * Simple unique ID generator for toasts.\n     * ID's are unique for the current session only.\n     *\n     * @returns string ID, unique to the current session\n     */\n    const toastID = function () {\n      return `${publicAPIs.settings.selector}-${ID++}`.toString()\n    }\n\n    /**\n     * Create new toast messages\n     *\n     * @param {string} message\n     * @param {int} autohide default 0 or autohide after specified milliseconds\n     * @param {boolean} dismiss outputs a dismiss button\n     * @param {boolean} prepend prepend instead of append the toast\n     * @param {array} classes an array of suplimental classes\n     * @param {string} id pass in your own ID insead of using the internal methods\n     * @returns {string|boolean:false} ID for the toast message just created\n     */\n    publicAPIs.create = function (\n      message,\n      autohide = 0,\n      dismiss = false,\n      prepend = false,\n      classes = [],\n      id = false\n    ) {\n      if (!message) {\n        throw new Error('Toast.js requires a message string!')\n      }\n      id = id || toastID()\n      const toast = document.createElement('div')\n\n      toast.setAttribute('role', 'alert')\n      toast.setAttribute('data-toast-id', id)\n      toast.classList.add(this.className, ...classes)\n      if (autohide) {\n        setTimeout(() => toast.remove(), autohide)\n      }\n      if (dismiss) {\n        toast.innerHTML = `${message} <button class=\"toast-close\" arial-lable=\"close\">&#x2715</button>`\n\n        toast.addEventListener('click', function (e) {\n          if (!e.target.matches('.toast-close')) return\n          toast.remove()\n          toast.removeEventListener('click', close)\n        })\n      } else {\n        toast.innerHTML = `${message}`\n      }\n      prepend\n        ? publicAPIs.target.prepend(toast)\n        : publicAPIs.target.append(toast)\n\n      // append message 1ms later so it will be announced by screen readers, thanks Heydon.\n      setTimeout(() => toast.innerHTML, 1)\n      return id\n    }\n\n    /**\n     * Remove toasts from DOM\n     *\n     * @param {string} id of the toast to be reomved from the DOM\n     * @returns\n     */\n    publicAPIs.destroy = function (id) {\n      if (!id) return false\n      const target = document.querySelector(`[data-toast-id=\"${id}\"]`)\n      if (target) {\n        target.remove()\n        return publicAPIs\n      }\n      return false\n    }\n    return publicAPIs\n  }\n  return Constructor\n})()\n"],"names":["Toast","options","settings","selector","className","prepend","ID","publicAPIs","target","document","querySelector","create","message","autohide","dismiss","classes","id","Error","toString","toast","createElement","setAttribute","classList","add","this","setTimeout","remove","innerHTML","addEventListener","e","matches","removeEventListener","close","append","destroy"],"mappings":";AAGY,MAACA,EAAQ,SAAWC,EAAU,IACxC,MAAMC,EAAW,CACfC,SAAU,OACVC,UAAW,QACXC,SAAS,GAyFX,OAtFoB,SAAUJ,GAC5B,IAAIK,EAAK,EACT,MAAMC,EAAa,CAAE,EACrBA,EAAWL,SAAW,IAAKD,KAAYC,GACvCK,EAAWC,OAASC,SAASC,cAAcH,EAAWL,SAASC,UAC/DI,EAAWH,UAAYG,EAAWL,SAASE,UA+E3C,OAvDAG,EAAWI,OAAS,SAClBC,EACAC,EAAW,EACXC,GAAU,EACVT,GAAU,EACVU,EAAU,GACVC,GAAK,GAEL,IAAKJ,EACH,MAAM,IAAIK,MAAM,uCAElBD,EAAKA,GAzBE,GAAGT,EAAWL,SAASC,YAAYG,MAAOY,WA0BjD,MAAMC,EAAQV,SAASW,cAAc,OAyBrC,OAvBAD,EAAME,aAAa,OAAQ,SAC3BF,EAAME,aAAa,gBAAiBL,GACpCG,EAAMG,UAAUC,IAAIC,KAAKpB,aAAcW,GACnCF,GACFY,YAAW,IAAMN,EAAMO,UAAUb,GAE/BC,GACFK,EAAMQ,UAAY,GAAGf,qEAErBO,EAAMS,iBAAiB,SAAS,SAAUC,GACnCA,EAAErB,OAAOsB,QAAQ,kBACtBX,EAAMO,SACNP,EAAMY,oBAAoB,QAASC,OAC7C,KAEQb,EAAMQ,UAAY,GAAGf,IAEvBP,EACIE,EAAWC,OAAOH,QAAQc,GAC1BZ,EAAWC,OAAOyB,OAAOd,GAG7BM,YAAW,IAAMN,EAAMQ,WAAW,GAC3BX,CACR,EAQDT,EAAW2B,QAAU,SAAUlB,GAC7B,IAAKA,EAAI,OAAO,EAChB,MAAMR,EAASC,SAASC,cAAc,mBAAmBM,OACzD,QAAIR,IACFA,EAAOkB,SACAnB,EAGV,EACMA,CACR,CAEF,CA9FoB"}