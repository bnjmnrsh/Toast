{"version":3,"file":"Toast.iife.min.js","sources":["../src/Toast.js"],"sourcesContent":["/**\n * A utility for mananging toast like UI messages.\n */\nexport const Toast = (function (options = {}) {\n  const settings = {\n    selector: 'body',\n    className: 'toast'\n  }\n\n  const Constructor = function (options) {\n    let ID = 0\n    const publicAPIs = {}\n    publicAPIs.settings = { ...settings, ...options }\n    publicAPIs.className = publicAPIs.settings.className\n    publicAPIs.target = document.querySelector(publicAPIs.settings.selector)\n\n    if (!publicAPIs.target) {\n      throw new Error(\n        `Toast: the target element \"${publicAPIs.settings.selector}\" could not be found.`\n      )\n    }\n\n    // Private Methods\n    /**\n     * Simple unique ID generator for toasts.\n     * ID's are unique for the current session only.\n     *\n     * @returns string ID, unique to the current session\n     */\n    const toastID = function () {\n      return `${publicAPIs.settings.selector}-${ID++}`.toString()\n    }\n\n    /**\n     * Create new toast messages\n     *\n     * @param {string} message\n     * @param {int} autohide default 0 or autohide after specified milliseconds\n     * @param {boolean} dismiss outputs a dismiss button\n     * @param {boolean} prepend prepend instead of append the toast\n     * @param {array} classes an array of suplimental classes\n     * @param {string} id pass in your own ID insead of using the internal methods\n     * @returns {string|boolean:false} ID for the toast message just created\n     */\n    publicAPIs.create = function (\n      message,\n      autohide = 0,\n      dismiss = false,\n      prepend = true,\n      classes = [],\n      id = false\n    ) {\n      if (!message) {\n        throw new Error('Toast.js requires a message string!')\n      }\n      id = id || toastID()\n      const toast = document.createElement('div')\n\n      toast.setAttribute('role', 'alert')\n      toast.setAttribute('data-toast-id', id)\n      toast.classList.add(this.className, ...classes)\n      if (autohide) {\n        setTimeout(() => toast.remove(), autohide)\n      }\n      if (dismiss) {\n        toast.innerHTML = `${message} <button class=\"toast-close\" arial-lable=\"close\">&#x2715</button>`\n\n        toast.addEventListener('click', function (e) {\n          if (!e.target.matches('.toast-close')) return\n          toast.remove()\n          toast.removeEventListener('click', close)\n        })\n      } else {\n        toast.innerHTML = `${message}`\n      }\n      prepend\n        ? publicAPIs.target.prepend(toast)\n        : publicAPIs.target.append(toast)\n\n      // append message 1ms later so it will be announced by screen readers, thanks Heydon.\n      setTimeout(() => toast.innerHTML, 1)\n      return id\n    }\n\n    /**\n     * Remove toasts from DOM\n     *\n     * @param {string} id of the toast to be reomved from the DOM\n     * @returns\n     */\n    publicAPIs.destroy = function (id) {\n      if (!id) return false\n      const target = document.querySelector(`[data-toast-id=\"${id}\"]`)\n      if (target) {\n        target.remove()\n        return publicAPIs\n      }\n      return false\n    }\n    return publicAPIs\n  }\n  return Constructor\n})()\n"],"names":["Toast","options","settings","selector","className","ID","publicAPIs","target","document","querySelector","Error","create","message","autohide","dismiss","prepend","classes","id","toString","toast","createElement","setAttribute","classList","add","this","setTimeout","remove","innerHTML","addEventListener","e","matches","removeEventListener","close","append","destroy"],"mappings":";6CAGY,MAACA,EAAQ,SAAWC,EAAU,IACxC,MAAMC,EAAW,CACfC,SAAU,OACVC,UAAW,SA+Fb,OA5FoB,SAAUH,GAC5B,IAAII,EAAK,EACT,MAAMC,EAAa,CAAE,EAKrB,GAJAA,EAAWJ,SAAW,IAAKA,KAAaD,GACxCK,EAAWF,UAAYE,EAAWJ,SAASE,UAC3CE,EAAWC,OAASC,SAASC,cAAcH,EAAWJ,SAASC,WAE1DG,EAAWC,OACd,MAAM,IAAIG,MACR,8BAA8BJ,EAAWJ,SAASC,iCAiFtD,OAvDAG,EAAWK,OAAS,SAClBC,EACAC,EAAW,EACXC,GAAU,EACVC,GAAU,EACVC,EAAU,GACVC,GAAK,GAEL,IAAKL,EACH,MAAM,IAAIF,MAAM,uCAElBO,EAAKA,GAzBE,GAAGX,EAAWJ,SAASC,YAAYE,MAAOa,WA0BjD,MAAMC,EAAQX,SAASY,cAAc,OAyBrC,OAvBAD,EAAME,aAAa,OAAQ,SAC3BF,EAAME,aAAa,gBAAiBJ,GACpCE,EAAMG,UAAUC,IAAIC,KAAKpB,aAAcY,GACnCH,GACFY,YAAW,IAAMN,EAAMO,UAAUb,GAE/BC,GACFK,EAAMQ,UAAY,GAAGf,qEAErBO,EAAMS,iBAAiB,SAAS,SAAUC,GACnCA,EAAEtB,OAAOuB,QAAQ,kBACtBX,EAAMO,SACNP,EAAMY,oBAAoB,QAASC,OAC7C,KAEQb,EAAMQ,UAAY,GAAGf,IAEvBG,EACIT,EAAWC,OAAOQ,QAAQI,GAC1Bb,EAAWC,OAAO0B,OAAOd,GAG7BM,YAAW,IAAMN,EAAMQ,WAAW,GAC3BV,CACR,EAQDX,EAAW4B,QAAU,SAAUjB,GAC7B,IAAKA,EAAI,OAAO,EAChB,MAAMV,EAASC,SAASC,cAAc,mBAAmBQ,OACzD,QAAIV,IACFA,EAAOmB,SACApB,EAGV,EACMA,CACR,CAEF,CAnGoB"}